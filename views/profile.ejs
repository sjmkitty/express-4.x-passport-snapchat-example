<p>
  <strong>ID:</strong> <%= user.id %><br/>
  <strong>Name:</strong> <%= user.displayName %><br/>
  <% if (user.bitmoji.avatarUrl) { %>
    <strong>BITMOJI</strong><br/>
    <i>Avatar ID:</i> <%= user.bitmoji.avatarId %><br/>
    <i>Avatar</i><br/>
    <img src="<%= user.bitmoji.avatarUrl %>&scale=2" height="140" width="140" />
    <body>
      <div class="my-bitmoji-stickerpicker-icon-target" />
      <script>
         window.snapKitInit = function () {
          // Argument 1
          var bitmojiWebPickerIconClass =
            'my-bitmoji-stickerpicker-icon-target';

          // Argument 2
          var uiOptions = {
            onStickerPickCallback:
              function onStickerPickCallback(bitmojiImgURL){
                console.log(bitmojiImgURL);
              },
            webpickerPosition: 'bottomRight',
          };

          // Argument 3
          var loginParamsObj = {
            clientId: '<%= user.id %>',
            redirectURI: 'localhost:3000',
            scopeList: [ // the list of scopes you are approved for
             '<%= user.bitmoji.avatarUrl %>',
             '<%= user.displayName %>',
            ],
          };

          // Mount Bitmoji Icon(s)
          snap.bitmojikit.mountBitmojiStickerPickerIcons(
            bitmojiWebPickerIconClass,
            uiOptions,
            loginParamsObj,
          );
        };

        // Load the SDK asynchronously
        (function (d, s, id) {
          var js, sjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "https://sdk.snapkit.com/js/v1/login_bitmoji.js";
          sjs.parentNode.insertBefore(js, sjs);
        }(document, 'script', 'bitmojikit-sdk'));
      </script>
    </body>
  <% } %>
</p>
